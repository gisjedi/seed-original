<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.4">
<meta name="author" content="Jonathan Meyer">
<title>Seed Standard Definition</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Remove comment around @import statement below when using as a custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
[hidden],template{display:none}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
body{margin:0}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
input[type="search"]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}
input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*:before,*:after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
body{-webkit-font-smoothing:antialiased}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.spread{width:100%}
p.lead,.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{font-size:1.21875em;line-height:1.6}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #ddddd8;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol,ul.no-bullet,ol.no-bullet{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.no-bullet{list-style:none}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite:before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media only screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7;font-weight:bold}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
body{tab-size:4}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix:before,.clearfix:after,.float-group:before,.float-group:after{content:" ";display:table}
.clearfix:after,.float-group:after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menu{color:rgba(0,0,0,.8)}
b.button:before,b.button:after{position:relative;top:-1px;font-weight:400}
b.button:before{content:"[";padding:0 3px 0 2px}
b.button:after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header:before,#header:after,#content:before,#content:after,#footnotes:before,#footnotes:after,#footer:before,#footer:after{content:" ";display:table}
#header:after,#content:after,#footnotes:after,#footer:after{clear:both}
#content{margin-top:1.25em}
#content:before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #ddddd8}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #ddddd8;padding-bottom:8px}
#header .details{border-bottom:1px solid #ddddd8;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span:before{content:"\00a0\2013\00a0"}
#header .details br+span.author:before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark:before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber:after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #ddddd8;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #efefed;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media only screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #efefed;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #efefed;left:auto;right:0}}
@media only screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
.sect1{padding-bottom:.625em}
@media only screen and (min-width:768px){.sect1{padding-bottom:1.25em}}
.sect1+.sect1{border-top:1px solid #efefed}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor:before,h2>a.anchor:before,h3>a.anchor:before,#toctitle>a.anchor:before,.sidebarblock>.content>.title>a.anchor:before,h4>a.anchor:before,h5>a.anchor:before,h6>a.anchor:before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock>caption.title{white-space:nowrap;overflow:visible;max-width:0}
.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>.paragraph:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #ddddd8;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;padding:1em;font-size:.8125em}
.literalblock pre.nowrap,.literalblock pre[class].nowrap,.listingblock pre.nowrap,.listingblock pre[class].nowrap{overflow-x:auto;white-space:pre;word-wrap:normal}
@media only screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}
@media only screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}
.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]:before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]:before{display:block}
.listingblock.terminal pre .command:before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt]):before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0;line-height:1.45}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #ddddd8}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock blockquote p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote:before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.5em;margin-right:.5ex;text-align:right}
.quoteblock .quoteblock{margin-left:0;margin-right:0;padding:.5em 0;border-left:3px solid rgba(0,0,0,.6)}
.quoteblock .quoteblock blockquote{padding:0 0 0 .75em}
.quoteblock .quoteblock blockquote:before{display:none}
.verseblock{margin:0 1em 1.25em 1em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract{margin:0 0 1.25em 0;display:block}
.quoteblock.abstract blockquote,.quoteblock.abstract blockquote p{text-align:left;word-spacing:0}
.quoteblock.abstract blockquote:before,.quoteblock.abstract blockquote p:first-of-type:before{display:none}
table.tableblock{max-width:100%;border-collapse:separate}
table.tableblock td>.paragraph:last-child p>p:last-child,table.tableblock th>p:last-child,table.tableblock td>p:last-child{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all th.tableblock,table.grid-all td.tableblock{border-width:0 1px 1px 0}
table.grid-all tfoot>tr>th.tableblock,table.grid-all tfoot>tr>td.tableblock{border-width:1px 1px 0 0}
table.grid-cols th.tableblock,table.grid-cols td.tableblock{border-width:0 1px 0 0}
table.grid-all *>tr>.tableblock:last-child,table.grid-cols *>tr>.tableblock:last-child{border-right-width:0}
table.grid-rows th.tableblock,table.grid-rows td.tableblock{border-width:0 0 1px 0}
table.grid-all tbody>tr:last-child>th.tableblock,table.grid-all tbody>tr:last-child>td.tableblock,table.grid-all thead:last-child>tr>th.tableblock,table.grid-rows tbody>tr:last-child>th.tableblock,table.grid-rows tbody>tr:last-child>td.tableblock,table.grid-rows thead:last-child>tr>th.tableblock{border-bottom-width:0}
table.grid-rows tfoot>tr>th.tableblock,table.grid-rows tfoot>tr>td.tableblock{border-width:1px 0 0 0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot{border-width:1px 0}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.unstyled,ol.unnumbered,ul.checklist,ul.none{list-style-type:none}
ul.unstyled,ol.unnumbered,ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1em;font-size:.85em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{width:1em;position:relative;top:1px}
ul.inline{margin:0 auto .625em auto;margin-left:-1.375em;margin-right:0;padding:0;list-style:none;overflow:hidden}
ul.inline>li{list-style:none;float:left;margin-left:1.375em;display:block}
ul.inline>li>*{display:block}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist>table tr>td:first-of-type{padding:0 .75em;line-height:1}
.colist>table tr>td:last-of-type{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left,.imageblock[style*="float: left"]{margin:.25em .625em 1.25em 0}
.imageblock.right,.imageblock[style*="float: right"]{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em 0;border-width:1px 0 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;text-indent:-1.05em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note:before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip:before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning:before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution:before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important:before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]:after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@media print{@page{margin:1.25cm .75cm}
*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare):after,a[href^="https:"]:not(.bare):after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]:after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #ddddd8!important;padding-bottom:0!important}
.sect1{padding-bottom:0!important}
.sect1+.sect1{border:0!important}
#header>h1:first-child{margin-top:1.25rem}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em 0}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span:before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]:before{display:block}
#footer{background:none!important;padding:0 .9375em}
#footer-text{color:rgba(0,0,0,.6)!important;font-size:.9em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css">
</head>
<body class="article toc2 toc-left">
<div id="header">
<h1>Seed Standard Definition</h1>
<div class="details">
<span id="author" class="author">Jonathan Meyer</span><br>
<span id="email" class="email"><a href="mailto:jonathan.meyer@appliedis.com">jonathan.meyer@appliedis.com</a></span><br>
<span id="revnumber">version 0.0.1,</span>
<span id="revdate">2016-06-20</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_introduction">1. Introduction</a>
<ul class="sectlevel2">
<li><a href="#_format">1.1. Format</a></li>
<li><a href="#_definitions">1.2. Definitions</a></li>
</ul>
</li>
<li><a href="#_standard">2. Standard</a>
<ul class="sectlevel2">
<li><a href="#seed-section">2.1. Seed Object</a>
<ul class="sectlevel3">
<li><a href="#job-section">2.1.1. Job Objects</a>
<ul class="sectlevel4">
<li><a href="#interface-section">2.1.1.1. Interface Object</a>
<ul class="sectlevel5">
<li><a href="#inputdata-section">2.1.1.1.1. InputData Object</a></li>
<li><a href="#outputdata-section">2.1.1.1.2. OutputData Object</a></li>
</ul>
</li>
<li><a href="#errormapping-section">2.1.1.2. ErrorMapping Objects</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="#_usage">3. Usage</a>
<ul class="sectlevel2">
<li><a href="#_implementing">3.1. Implementing</a>
<ul class="sectlevel3">
<li><a href="#_environment_variables">3.1.1. Environment Variables</a></li>
<li><a href="#_output_file_metadata">3.1.2. Output File metadata</a></li>
</ul>
</li>
<li><a href="#_examples">3.2. Examples</a>
<ul class="sectlevel3">
<li><a href="#_random_number_generator_job">3.2.1. Random Number Generator Job</a></li>
<li><a href="#_image_watermark_job">3.2.2. Image Watermark Job</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_discovery">4. Discovery</a>
<ul class="sectlevel2">
<li><a href="#_docker_hub">4.1. Docker Hub</a></li>
<li><a href="#_docker_registry">4.2. Docker Registry</a></li>
<li><a href="#_docker_trusted_registry">4.3. Docker Trusted Registry</a></li>
</ul>
</li>
<li><a href="#_schema">5. Schema</a></li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_introduction"><a class="link" href="#_introduction">1. Introduction</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Seed is a general standard to aid in the discovery and consumption of
discrete units of work contained within a Docker image. While initially developed to support the Scale data processing
system with job discovery, it is designed to be readily applied to other systems as well.</p>
</div>
<div class="paragraph">
<p>Seed compliant images must be named in a specific fashion due to the lack of label search capability on Docker Hub
and Registry services. The suffix <code>-seed</code> must be used when naming images to enable discovery, prior to Hub or
Registry push. This requirement will be deprecated as label search support is standardized across Docker registry
services.</p>
</div>
<div class="sect2">
<h3 id="_format"><a class="link" href="#_format">1.1. Format</a></h3>
<div class="paragraph">
<p>Dockerfile snippet containing required label for Seed compliance:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>FROM alpine

LABEL com.ngageoint.seed.manifest="{\"manifestVersion\":\"0.0.1\",\"jobs\":[]}"</pre>
</div>
</div>
<div class="paragraph">
<p>The com.seed.manifest label contents must be serialized as a string-escaped JSON object. The following is a complete
example including required and optional keys:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>{
	"manifestVersion": "0.0.1",
	"jobs": [
		{
			"name": "my-algorithm",
			"version": "1.0.0",
			"title": "My first algorithm",
			"description": "Reads an HDF5 file and outputs two TIFF images, a CSV and manifest containing cell_count",
			"tag": [
				"hdf5",
				"tiff",
				"csv",
				"image processing"
			],
			"authorName": "John Doe",
			"authorUrl": "http://www.example.com",
			"timeout": 3600,
			"cpus": 10.0,
			"mem": 10240.0,
			"storage": 0.0,
			"interface": {
				"cmd": "/app/job.sh",
				"args": "${INPUT_FILE} ${JOB_OUTPUT_DIR}",
				"inputData": {
					"files": [
						{
							"name": "INPUT_FILE",
							"required": true,
							"mediaType": [
								"image/x-hdf5-image"
							]
						}
					]
				},
				"outputData": {
					"files": [
						{
							"name": "output_file_tiffs",
							"mediaType": "image/tiff",
							"count": "2",
							"pattern": "outfile*.tif"
						},
						{
							"name": "output_file_csv",
							"mediaType": "text/csv",
							"pattern": "outfile*.csv"
						}
					],
					"json": [
						{
							"name": "cell_count",
							"key": "cellCount",
							"type": "integer"
						}
					]
				}
			},
			"errorMapping": [
				{
					"code": 1,
					"title": "Error Name",
					"description": "Error Description",
					"category": "system"
				},
				{
					"code": 2,
					"title": "Error Name",
					"description": "Error Description",
					"category": "data"
				},
				{
					"code": 3,
					"title": "Error Name",
					"description": "Error Description",
					"category": "algorithm"
				}
			]
		}
	]
}</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_definitions"><a class="link" href="#_definitions">1.2. Definitions</a></h3>
<div class="ulist">
<ul>
<li>
<p>GeoJSON, and the terms Geometry and Polygon are defined in
<a href="https://www.ietf.org/id/draft-ietf-geojson-03.txt">IETF GeoJSON Draft-03</a></p>
</li>
<li>
<p>Internet Assigned Numbers Authority (IANA), and the terms Media Types and MIME Types are defined in
<a href="http://www.iana.org/assignments/media-types/media-types.xhtml">IETF RFC 6838</a></p>
</li>
<li>
<p>ISO 8601 and the specifics of the date format are defined in <a href="https://tools.ietf.org/html/rfc3339">IETF RFC 3339</a></p>
</li>
<li>
<p>JavaScript Object Notation (JSON), and the terms object, name, value, array, and number, are defined in
<a href="http://www.ietf.org/rfc/rfc4627.txt">IETF RFC 4627</a>.</p>
</li>
<li>
<p>Semantic Versioning (SemVer), and the terms major, minor, and patch version are defined at
<a href="http://semver.org/spec/v2.0.0.html" class="bare">http://semver.org/spec/v2.0.0.html</a></p>
</li>
<li>
<p>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and
"OPTIONAL" in this document are to be interpreted as described in <a href="http://www.ietf.org/rfc/rfc2119.txt">IETF RFC 2119</a>.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_standard"><a class="link" href="#_standard">2. Standard</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Seed standard is intended to provide a complete definition of the runtime processing, memory and storage
requirements of one or more discrete units of work, in addition to the inputs, outputs and potential errors produced.
Completeness is fundamental but the standard accommodates both simple and complex jobs by defining a minimal subset of
REQUIRED properties. The following sections detail every possible REQUIRED and OPTIONAL manifest property in both root
and child objects.</p>
</div>
<div class="paragraph">
<p>A complete Seed object contained within a com.ngageoint.seed.manifest label is always a string-escaped serialized
object. In Seed, an object consists of a collection of name/value pairs&#8201;&#8212;&#8201;also called members. For each member, the
name is always a string. Member values are either a string, number, object, array or one of the literals: true, false,
and null. An array consists of elements where each element is a value as described above.</p>
</div>
<div class="sect2">
<h3 id="seed-section"><a class="link" href="#seed-section">2.1. Seed Object</a></h3>
<div class="paragraph">
<p>The Seed object is the root JSON object that MUST be placed within a com.ngageoint.seed.manifest Docker image label.
At a minimum this object MUST define the <code>manifestVersion</code> and <code>jobs</code> names.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The Seed object MUST have a member with the name <code>manifestVersion</code>. The member&#8217;s value MUST be a string that
conforms to the SemVer standard.</p>
</li>
<li>
<p>The Seed object MUST have a member with the name <code>jobs</code>. The member&#8217;s value is an array of <code>Job</code> objects and MUST
contain at least 1 element. There is no other standard restriction on the array size.</p>
</li>
<li>
<p>The Seed object MAY have any number of additional members.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">{
  "manifestVersion": "0.0.1",
  "jobs": [ ... ]
}</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="job-section"><a class="link" href="#job-section">2.1.1. Job Objects</a></h4>
<div class="paragraph">
<p>The Job object is the core member for describing a single unit of work and the resources it requires.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The Job object MUST have a member with the name <code>name</code>. The member&#8217;s value MUST be a string of only lowercase
alpha-numeric, dash or underscore characters (defined by the regex <code>[a-z0-9_-]+</code>).</p>
</li>
<li>
<p>The Job object MUST have a member with the name <code>version</code>. The member&#8217;s value MUST be a string that conforms to the
SemVer standard.</p>
</li>
<li>
<p>The Job object MUST have a member with the name <code>title</code>. The member&#8217;s value MUST be a string and SHOULD contain a
short descriptive title of the job.</p>
</li>
<li>
<p>The Job object MUST have a member with the name <code>description</code>. The member&#8217;s value MUST be a string and SHOULD contain
a full job abstract.</p>
</li>
<li>
<p>The Job object MAY have a member with the name <code>tag</code>. The member&#8217;s value MUST be an array of strings and MAY contain
any number of elements.</p>
</li>
<li>
<p>The Job object MUST have a member with the name <code>authorName</code>. The member&#8217;s value MUST be a string and SHOULD contain
the authoring individual or organization.</p>
</li>
<li>
<p>The Job object MAY have a member with the name <code>authorUrl</code>. The member&#8217;s value MUST be a string and SHOULD contain a
publicly accessible URL with further job detail.</p>
</li>
<li>
<p>The Job object MUST have a member with the name <code>timeout</code>. This member&#8217;s values MUST be a integer indicating a timeout
period measured in seconds. Consuming systems MUST honor this value as a hard limit on job execution time.</p>
</li>
<li>
<p>The Job object MUST have a member with the name <code>cpus</code>. This member&#8217;s value MUST be a number indicating the whole or
fractional CPUs allocated for the job.</p>
</li>
<li>
<p>The Job object MUST have a member with the name <code>mem</code>. This member&#8217;s value MUST be a number indicating the memory
requirement in Mebibytes (MiB) for the job. Fractional MiB values MAY be used to indicate allocations below 1 MiB.</p>
</li>
<li>
<p>The Job object MAY have a member with the name <code>storage</code>. This member&#8217;s value MUST be a number indicating the runtime
ephemeral storage requirements in Mebibytes (MiB) of the job. If omitted, the default of 0.0 may be assumed.</p>
</li>
<li>
<p>The Job object MUST have a member with the name <code>interface</code>. This member&#8217;s value MUST be an object as defined in
<code>Interface</code>.</p>
</li>
<li>
<p>The Job object MAY have a member with the name <code>errorMapping</code>. This member&#8217;s value MUST be an array containing
elements defined in <a id="errormapping-section"></a></p>
</li>
<li>
<p>The Job object MAY have any number of additional members.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following annotated snippet provides quick reference to the use of Job object:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">{
  "name": "my-algorithm", <i class="conum" data-value="1"></i><b>(1)</b>
  "version": "1.0.0", <i class="conum" data-value="2"></i><b>(2)</b>
  "title": "My first algorithm", <i class="conum" data-value="3"></i><b>(3)</b>
  "description": "Reads an HDF5 file and outputs two TIFF images, a CSV and manifest containing cell_count", <i class="conum" data-value="4"></i><b>(4)</b>
  "authorName": "John Doe", <i class="conum" data-value="5"></i><b>(5)</b>
  "authorUrl": "http://www.example.com", <i class="conum" data-value="6"></i><b>(6)</b>
  "timeout": 3600,<i class="conum" data-value="7"></i><b>(7)</b>
  "cpus": 10.0, <i class="conum" data-value="8"></i><b>(8)</b>
  "mem": 10240.0, <i class="conum" data-value="9"></i><b>(9)</b>
  "storage": 0.0, <i class="conum" data-value="10"></i><b>(10)</b>
  "interface": { ...  }, <i class="conum" data-value="11"></i><b>(11)</b>
  "errorMapping": [ ... ] <i class="conum" data-value="12"></i><b>(12)</b>
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Required string containing job identifier. Limited to regex <code>[a-z0-9_-]+</code>. <code>name</code> and <code>version</code> members combined
should be unique system-wide.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Required string containing job version identifier in SemVer format. <code>name</code> and <code>version</code> members combined should be
unique system-wide.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Required string containing short job title.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Required string containing job abstract. Inline markup should be avoided, but not prohibited.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Required string containing job author name or organization.</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>Optional string containing URL to job website.</td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td>Required integer containing job timeout value in seconds.</td>
</tr>
<tr>
<td><i class="conum" data-value="8"></i><b>8</b></td>
<td>Required number containing CPU needs of job. Whole or fractional values allowed.</td>
</tr>
<tr>
<td><i class="conum" data-value="9"></i><b>9</b></td>
<td>Required number containing memory needs of job in Mebibytes (MiB). Whole or fractional values allowed.</td>
</tr>
<tr>
<td><i class="conum" data-value="10"></i><b>10</b></td>
<td>Optional number containing storage needs of job in Mebibytes (MiB). Whole or fractional values allowed.</td>
</tr>
<tr>
<td><i class="conum" data-value="11"></i><b>11</b></td>
<td>Required <a href="#interface-section">[interface-section]</a>.</td>
</tr>
<tr>
<td><i class="conum" data-value="12"></i><b>12</b></td>
<td>Optional array of <a href="#errormapping-section">[errormapping-section]</a>.</td>
</tr>
</table>
</div>
<div class="sect4">
<h5 id="interface-section"><a class="link" href="#interface-section">2.1.1.1. Interface Object</a></h5>
<div class="paragraph">
<p>The Interface object is the primary member that describes the actual executable entrypoint, as well as inputs and
outputs defined for a job.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The Interface object MUST have a member with the name <code>cmd</code>. The member&#8217;s value MUST be a string specifying the
absolute path to the job executable within the Docker image.</p>
</li>
<li>
<p>The Interface object MAY have a member with the name <code>args</code>. The member&#8217;s value MUST be a string specifying the
complete parameter string passed to the executable defined in <code>cmd</code> member. Based on the Linux shell, shell escaping
of special characters MAY be required.</p>
</li>
<li>
<p>The Interface object MAY have a member with the name <code>inputData</code>. The member&#8217;s value is an array of <code>InputData</code>
objects (see <a href="#inputdata-section">InputData Object</a>) and MAY contain any number of elements.</p>
</li>
<li>
<p>The Interface object MAY have a member with the name <code>outputData</code>. The member&#8217;s value is an array of <code>OutputData</code>
objects (see <a href="#inputdata-section">InputData Object</a>) and MAY contain any number of elements. There is no other standard restriction on
the array size.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following annotated snippet provides quick reference to the use of Interface object:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">{
  "cmd": "/app/job.sh", <i class="conum" data-value="1"></i><b>(1)</b>
  "args": "${INPUT_FILE} ${JOB_OUTPUT_DIR}", <i class="conum" data-value="2"></i><b>(2)</b>
  "inputData": { "files": [ { "name": "INPUT_FILE", ... }, ... ] }, <i class="conum" data-value="3"></i><b>(3)</b>
  "outputData": { ... } <i class="conum" data-value="4"></i><b>(4)</b>
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Required string indicating the job executable. It should be an absolute path for clarity.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Optional string indicating the job arguments. Shell expansion may be used to inject existing environment variables
and executable arguments. Linux shell escaping may be needed in the case of special characters.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Optional InputData object. This is the means to inject external data into the job container.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Optional OutputData object. This is the means to capture results from the job container.</td>
</tr>
</table>
</div>
<div class="sect5">
<h6 id="inputdata-section"><a class="link" href="#inputdata-section">2.1.1.1.1. InputData Object</a></h6>
<div class="paragraph">
<p>The InputData object is the member responsible for indicating all mutable content available to the Seed image at
runtime.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The InputData object MAY have a member <code>files</code>. The member&#8217;s value is an array of objects defined in Files Elements
sub-section.</p>
</li>
<li>
<p>The InputData object MAY have a member <code>json</code>. The member&#8217;s value is an array of objects defined in JSON Elements
sub-section.</p>
</li>
</ul>
</div>
<div class="ulist">
<div class="title">Files Elements</div>
<ul>
<li>
<p>The Files object MUST have a member <code>name</code>. The member&#8217;s value MUST be a string indicating the environment
variable name that will be injected by the processing platform for job consumption.</p>
</li>
<li>
<p>The Files object MUST have a member <code>mediaType</code>. The member&#8217;s value MUST indicate the IANA Media type for
the file being captured by OutputData.</p>
</li>
<li>
<p>The Files object MAY have a member <code>required</code>. The member&#8217;s value MUST be a boolean indicating whether this input
value SHOULD always be expected. If omitted, the default value MUST be treated as true.</p>
</li>
</ul>
</div>
<div class="ulist">
<div class="title">JSON Elements</div>
<ul>
<li>
<p>The JSON object MUST have a member <code>name</code>. The member&#8217;s value MUST be a string indicating the environment
variable name that will be injected by the processing platform for job consumption.</p>
</li>
<li>
<p>The JSON object MUST have a member <code>type</code>. The member&#8217;s value MUST be a string and indicate a valid JSON schema type.</p>
</li>
<li>
<p>The JSON object MAY have a member <code>required</code>. The member&#8217;s value MUST be a boolean indicating whether this input
value SHOULD always be expected. If omitted, the default value MUST be treated as true.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following annotated snippet provides quick reference to the use of InputData object:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">{
  "files": [ <i class="conum" data-value="1"></i><b>(1)</b>
    {
      "name": "INPUT_FILE", <i class="conum" data-value="2"></i><b>(2)</b>
      "mediaType": [ "image/x-hdf5-image" ], <i class="conum" data-value="3"></i><b>(3)</b>
      "required": true <i class="conum" data-value="4"></i><b>(4)</b>
    }
  ]
  "json": [ <i class="conum" data-value="5"></i><b>(5)</b>
    {
      "name": "INPUT_STRING",
      "type": "string", <i class="conum" data-value="6"></i><b>(6)</b>
      "required": false <i class="conum" data-value="7"></i><b>(7)</b>
    }
  ]
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Optional array containing elements defined by Files Elements sub-section.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Required string containing name used to inject data via environment variables.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Required array containing a list of accepted Media types.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Optional boolean indicating whether job requires this particular file. Default is <code>true</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Optional array containing elements defined by JSON Elements sub-section.</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>Required string containing a valid JSON schema type for input validation.</td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td>Optional boolean indicating whether job requires this particular JSON input. Default is <code>true</code>.</td>
</tr>
</table>
</div>
</div>
<div class="sect5">
<h6 id="outputdata-section"><a class="link" href="#outputdata-section">2.1.1.1.2. OutputData Object</a></h6>
<div class="paragraph">
<p>The OutputData object is the member responsible for indicating all output data and the means to capture that data
following the execution of a Seed image. Data can be captured in two different forms: directly as a file or
extracted JSON from a manifest. File type output is simply matched based on a standard glob pattern. JSON objects are
expected to be gathered from a results manifest that by Seed standard convention MUST be provided either on container
STDOUT or written at the root of the job output directory as <code>results_manifest.json</code>. The location of the job output
directory is REQUIRED to be passed into the container at job execution time.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The OutputData object MAY have a member <code>files</code>. The member&#8217;s value is an array of objects defined in Files Elements
sub-section.</p>
</li>
<li>
<p>The OutputData object MAY have a member <code>json</code>. The member&#8217;s value is an array of objects defined in JSON Elements
sub-section.</p>
</li>
</ul>
</div>
<div class="ulist">
<div class="title">Files Elements</div>
<ul>
<li>
<p>The Files object MUST have a member <code>name</code>. The member&#8217;s value MUST be a string indicating the key the processing
system will place the file name captured for downstream processing.
variable name that will be injected by the processing platform for job consumption.</p>
</li>
<li>
<p>The Files object MUST have a member <code>mediaType</code>. The member&#8217;s value MUST indicate the IANA Media type for
the file being captured by OutputData.</p>
</li>
<li>
<p>The Files object MUST have a member <code>pattern</code>. The member&#8217;s value MUST indicate a standard glob pattern for the
capture of files.</p>
</li>
<li>
<p>The Files object MAY have a member <code>count</code>. The member&#8217;s value MUST be a string that accepts 2 possibilities:
positive numeric values or a <code>*</code>. Numeric values indicate an explicit match expected for <code>pattern</code> while <code>*</code> indicates
matching with no upper bound.</p>
</li>
<li>
<p>The Files object MAY have a member <code>required</code>. The member&#8217;s value MUST be a boolean indicating whether this input
value SHOULD always be expected. If omitted, the default value is <code>true</code>.</p>
</li>
</ul>
</div>
<div class="ulist">
<div class="title">JSON Elements</div>
<ul>
<li>
<p>The JSON object MUST have a member <code>name</code>. The member&#8217;s value MUST be a string indicating the key the processing
system will place the JSON member value in for downstream use. When <code>key</code> member is omitted, it must be a case-sensitive
match of the member key in result manifest.</p>
</li>
<li>
<p>The JSON object MUST have a member <code>type</code>. The member&#8217;s value MUST be a string and indicate the JSON schema type of
the member being captured from the result manifest.</p>
</li>
<li>
<p>The JSON object MAY have a member <code>key</code>. The member&#8217;s value MUST be a string and indicate the case-sensitive result
manifest member to capture. If omitted, the result member key is assumed to be a case-sensitive match for the above
defined <code>name</code> member.</p>
</li>
<li>
<p>The JSON object MAY have a member <code>required</code>. The member&#8217;s value MUST be a boolean indicating whether this input
value SHOULD always be expected. If omitted, the default value MUST be treated as true.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following annotated snippets provides quick reference to the use of OutputData object:</p>
</div>
<div class="listingblock">
<div class="title">Result Manifest</div>
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">{
  "cellCount": 256,
  ...
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Seed Manifest - OutputData object</div>
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">"outputData": {
  "files": [ <i class="conum" data-value="1"></i><b>(1)</b>
    {
	  "name": "OUTPUT_TIFFS", <i class="conum" data-value="2"></i><b>(2)</b>
	  "mediaType": "image/tiff", <i class="conum" data-value="3"></i><b>(3)</b>
	  "pattern": "outfile*.tif", <i class="conum" data-value="4"></i><b>(4)</b>
	  "count": "2", <i class="conum" data-value="5"></i><b>(5)</b>
	  "required": true <i class="conum" data-value="6"></i><b>(6)</b>
	}
  ],
  "json": [ <i class="conum" data-value="7"></i><b>(7)</b>
    {
      "name": "CELL_COUNT", <i class="conum" data-value="8"></i><b>(8)</b>
      "type": "integer", <i class="conum" data-value="9"></i><b>(9)</b>
      "key": "cellCount <i class="conum" data-value="10"></i><b>(10)</b>
    }
  ]
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Optional array containing elements defined by Files Elements sub-section.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Required string containing output identifier.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Required string containing IANA Media type of file.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Required string containing glob expression for file capture. Processing system is expected to
capture output relative to JOB_OUTPUT_DIR.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Optional string containing either a numeric count or <code>\*</code> for unbounded output. Default value
is <code>1</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>Optional boolean indicating whether processing system should assume failure if output data is missing. Default value
is true.</td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td>Optional array containing elements defined by JSON Elements sub-section.</td>
</tr>
<tr>
<td><i class="conum" data-value="8"></i><b>8</b></td>
<td>Required string containing output identifier. MUST be used by processing framework to match member for capture from
result manifest in absence of <code>key</code> member.</td>
</tr>
<tr>
<td><i class="conum" data-value="9"></i><b>9</b></td>
<td>Required string containing JSON schema type of member extracted from result manifest.</td>
</tr>
<tr>
<td><i class="conum" data-value="10"></i><b>10</b></td>
<td>Optional string containing key of result manifest member for extraction. This allows mapping from a result manifest
member key that differs from the value of <code>name</code> member.</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect4">
<h5 id="errormapping-section"><a class="link" href="#errormapping-section">2.1.1.2. ErrorMapping Objects</a></h5>
<div class="paragraph">
<p>The ErrorMapping objects allow for job developers to map arbitrary exit codes to meaningful textual descriptions. This
is useful in passing information to the processing system to differentiate between data and algorithm errors.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The ErrorMapping object MUST have a member <code>code</code>. The member&#8217;s value MUST be an integer indicating the exit code of
the executing job process.</p>
</li>
<li>
<p>The ErrorMapping object MUST have a member <code>title</code>. The member&#8217;s value MUST be a string indicating the short
descriptive title of the error.</p>
</li>
<li>
<p>The ErrorMapping object MAY have a member <code>description</code>. The member&#8217;s value MUST be a string indicating the complete
error description and possible causes.</p>
</li>
<li>
<p>The ErrorMapping object MAY have a member <code>category</code>. If omitted, the default value is <code>algorithm</code>. The member&#8217;s value
MUST be a string containing one of the following values: <code>algorithm</code>, <code>data</code> or <code>system</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following annotated snippet provides quick reference to the use of ErrorMapping objects:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">[
  {
    "code": 1, <i class="conum" data-value="1"></i><b>(1)</b>
    "title": "Error Name", <i class="conum" data-value="2"></i><b>(2)</b>
    "description": "Error Description", <i class="conum" data-value="3"></i><b>(3)</b>
    "category": "system" <i class="conum" data-value="4"></i><b>(4)</b>
  }
]</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Required integer indicating job process exit code.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Required string containing human-friendly short name of error.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Optional string containing complete error code description.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Optional string containing the error type. This value MUST be either: <code>algorithm</code>, <code>data</code> or <code>system</code>. The default
value is <code>algorithm</code>.</td>
</tr>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_usage"><a class="link" href="#_usage">3. Usage</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_implementing"><a class="link" href="#_implementing">3.1. Implementing</a></h3>
<div class="paragraph">
<p>A few requirements must be satisfied when implementing a system capable of executing Seed standardized images.</p>
</div>
<div class="sect3">
<h4 id="_environment_variables"><a class="link" href="#_environment_variables">3.1.1. Environment Variables</a></h4>
<div class="paragraph">
<p>Environment variable injection must be performed. These may be consumed by job directly as environment variables or
shell variable expansion may be leveraged in the <code>interface.args</code> member.</p>
</div>
<div class="paragraph">
<p>The following minimum variables MUST be provided:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>JOB_OUTPUT_DIR: Root path all output products must be placed by job for processing system capture.</p>
</li>
<li>
<p>ALLOCATED_CPUS: Value of <code>cpus</code> member.</p>
</li>
<li>
<p>ALLOCATED_MEM: Value of <code>mem</code> member.</p>
</li>
<li>
<p>ALLOCATED_STORAGE: Value of <code>storage</code> member.</p>
</li>
<li>
<p>All <code>name</code> member values of <code>interface.inputData.files</code> elements MUST map to environment variables. Name case MUST map
exactly from <code>name</code> value. It is the processing framework&#8217;s responsibility to ensure data is mounted and to ensure the
path is container resolvable.</p>
</li>
<li>
<p>All <code>name</code> member values of <code>interface.inputData.json</code> elements MUST map to environment variables. Name case MUST map
exactly from <code>name</code> value and <code>array</code>, <code>object</code> and <code>string</code> JSON types MUST be injected string encoded.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_output_file_metadata"><a class="link" href="#_output_file_metadata">3.1.2. Output File metadata</a></h4>
<div class="paragraph">
<p>There is often a need by the processing system to capture additional job extracted metadata on output files. The Seed
standard allows for this through the use of side-car files. The side-car files must be named exactly as the file they
describe, with the addition of the <code>.metadata.json</code> extension to the original file name (extension included). The file
must be formatted according to the <a href="schema/seed.metadata.schema.json">Seed Metadata Schema</a>. This allows for both
spatial and temporal metadata to be specified.</p>
</div>
<div class="paragraph">
<p>The following snippet demonstrates the optional values that may be specified:</p>
</div>
<div class="listingblock">
<div class="title">Metadata JSON</div>
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">{
	"geometry": { <i class="conum" data-value="1"></i><b>(1)</b>
		"type": "Polygon",
		"coordinates": [
			[ [ 100.0, 0.0 ], [ 101.0, 0.0 ], [ 101.0, 1.0 ], [ 100.0, 1.0 ], [ 100.0, 0.0 ] ]
		]
	},
	"time": { <i class="conum" data-value="2"></i><b>(2)</b>
		"start": "2016-08-06T00:00:00.000Z", <i class="conum" data-value="3"></i><b>(3)</b>
		"end": "2016-08-06T00:00:00.000Z" <i class="conum" data-value="4"></i><b>(4)</b>
	}
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Optional GeoJSON Geometry object defining spatial extent of file.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Optional Time object defining temporal extent of file.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Required string containing an ISO 8601 date indicating the start temporal extent of file. String must include full
time down to minute precision.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Required string containing an ISO 8601 date indicating the end temporal extent of file. String must include full
time down to minute precision. If the data is a single point-in-time the end date should match the start date.</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_examples"><a class="link" href="#_examples">3.2. Examples</a></h3>
<div class="paragraph">
<p>The Seed standard is intended to support both simple and complex job packaging. To that end the standard allows for
sensible defaults to take the place of a fully specified manifest. The following examples identify both a minimal
Seed use and a more realistic, fully exercised standard.</p>
</div>
<div class="sect3">
<h4 id="_random_number_generator_job"><a class="link" href="#_random_number_generator_job">3.2.1. Random Number Generator Job</a></h4>
<div class="paragraph">
<p>Minimal manifest demonstrating the simplest possible Seed definition.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>{
  "manifestVersion": "0.0.1",
  "jobs":
  [
    {
      "name": "random-number-gen",
      "version": "0.1.0",
      "title": "Random Number Generator",
      "description": "Generates a random number and outputs on stdout",
      "authorName": "John Doe",
      "timeout": 10,
      "cpus": 0.1,
      "mem": 1.0,
      "interface": {
        "cmd": "/app/job.sh"
      }
    }
  ]
}</pre>
</div>
</div>
<div class="paragraph">
<p>Serialized as a label in a Dockerfile snippet:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>FROM alpine

LABEL com.ngageoint.seed.manifest="{\"manifestVersion\":\"0.0.1\",\"jobs\":[{\"name\":\"random-number-gen\",\"version\":\"0.1.0\",\"title\":\"Random Number Generator\",\"description\":\"Generates a random number and outputs on stdout\",\"authorName\":\"John Doe\",\"timeout\":10,\"cpus\":0.1,\"mem\":1.0,\"interface\":{\"cmd\":\"\/app\/job.sh\"}}]}"</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_image_watermark_job"><a class="link" href="#_image_watermark_job">3.2.2. Image Watermark Job</a></h4>
<div class="paragraph">
<p>Image watermark job taking a single image and returning with watermark applied using Seed definition.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>{
	"manifestVersion": "0.0.1",
	"jobs": [
		{
			"name": "image-watermark",
			"version": "0.1.0",
			"title": "Image Watermarker",
			"description": "Processes an input PNG and outputs watermarked PNG.",
			"authorName": "John Doe",
			"timeout": 30,
			"cpus": 1.0,
			"mem": 64.0,
			"interface": {
				"cmd": "/app/watermark.py",
				"args": "${INPUT_IMAGE} ${JOB_OUTPUT_DIR}",
				"inputData": {
					"files": [
						{
							"name": "INPUT_IMAGE",
							"mediaType": [
								"image/png"
							]
						}
					]
				},
				"outputData": {
					"files": [
						{
							"name": "OUTPUT_IMAGE",
							"mediaType": "image/png",
							"pattern": "*_watermark.png"
						}
					]
				}
			},
			"errorMapping": [
				{
					"code": 1,
					"title": "Image Corrupt",
					"description": "Image input is not recognized as a valid PNG.",
					"category": "data"
				}
			]
		}
	]
}</pre>
</div>
</div>
<div class="paragraph">
<p>Serialized as a label in a Dockerfile snippet:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>FROM alpine

LABEL com.ngageoint.seed.manifest="{\"manifestVersion\":\"0.0.1\",\"jobs\":[{\"name\":\"image-watermark\",\"version\":\"0.1.0\",\"title\":\"Image Watermarker\",\"description\":\"Processes an input PNG and outputs watermarked PNG.\",\"authorName\":\"John Doe\",\"timeout\":30,\"cpus\":1.0,\"mem\":64.0,\"interface\":{\"cmd\":\"\/app\/watermark.py\",\"args\":\"${INPUT_IMAGE} ${JOB_OUTPUT_DIR}\",\"inputData\":{\"files\":[{\"name\":\"INPUT_IMAGE\",\"mediaType\":[\"image\/png\"]}]},\"outputData\":{\"files\":[{\"name\":\"OUTPUT_IMAGE\",\"mediaType\":\"image\/png\",\"pattern\":\"*_watermark.png\"}]}},\"errorMapping\":[{\"code\":1,\"title\":\"Image Corrupt\",\"description\":\"Image input is not recognized as a valid PNG.\",\"category\":\"data\"}]}]}"</pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_discovery"><a class="link" href="#_discovery">4. Discovery</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>A primary intention of this standard is for simple job discovery from public images hosted within either Docker Hub,
Docker Trusted Registry or Docker Registry. There is significant fragmentation of APIs between the various Docker
offerings and the following sections describe the steps that may be taken to access the labels defined by Seed.</p>
</div>
<div class="paragraph">
<p>None of the Docker registry services support label search in any fashion. This incurs the requirement of applying a
secondary means to subset image results. The standard presently requires that all job image are named with the suffix
<code>-seed</code>. This allows for quick filtering of results to a manageable set for discovery.</p>
</div>
<div class="sect2">
<h3 id="_docker_hub"><a class="link" href="#_docker_hub">4.1. Docker Hub</a></h3>
<div class="paragraph">
<p>Docker Hub stores Docker image manifest information in a readily accessible format only for Automated Builds. This
enforces the need for all developers wishing to support simple discovery from Docker Hub to support Hub builds, as
opposed to local image builds followed by a docker push. Given this caveat, a service such as ImageLayers can be used
to quickly identify manifest content after discovering available images.</p>
</div>
<div class="paragraph">
<p>The following two steps may be taken to find and identify labels within Docker Hub:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Perform HTTP GET to find Docker images:</p>
<div class="ulist">
<ul>
<li>
<p>URL: <a href="https://hub.docker.com/v2/search/repositories/?query=-seed" class="bare">https://hub.docker.com/v2/search/repositories/?query=-seed</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Perform HTTP POST to get label details for images found in previous request:</p>
<div class="ulist">
<ul>
<li>
<p>BODY: {"repos":[{"name":"myorg/myjob-seed","tag":"latest"}]}</p>
</li>
<li>
<p>URL: <a href="https://imagelayers.io/registry/analyze" class="bare">https://imagelayers.io/registry/analyze</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The ImageLayers service is a 3rd-party service by CenturyLink Labs, but the source code is openly available at
<a href="https://github.com/CenturyLinkLabs/imagelayers">ImageLayers</a> and can be used as a reference implementation.</p>
</div>
</div>
<div class="sect2">
<h3 id="_docker_registry"><a class="link" href="#_docker_registry">4.2. Docker Registry</a></h3>
<div class="paragraph">
<p>Docker Registry does not natively support any type of search, but does provide a catalog API that allows for listing the
entire registry contents. Using this along with tag and manifest inspection will allow label inspection.</p>
</div>
<div class="paragraph">
<p>The following steps may be taken to find and identify labels of Seed compliant images within Docker Registry:</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
All references to <code>{registry}</code>, <code>{image-id}</code> and <code>{tag}</code> in the following URLs should be replaced with your
environment specific values.
</td>
</tr>
</table>
</div>
<div class="ulist">
<ul>
<li>
<p>Perform HTTP GET against catalog endpoint to find <code>-seed</code> suffixed images:</p>
<div class="ulist">
<ul>
<li>
<p>URL: <a href="http://{registry}/v2/_catalog" class="bare">http://{registry}/v2/_catalog</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Perform HTTP GET against tags endpoint for each image matched:</p>
<div class="ulist">
<ul>
<li>
<p><a href="http://{registry}/v2/{image-id}/tags/list" class="bare">http://{registry}/v2/{image-id}/tags/list</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Perform HTTP GET against manifests endpoint to retrieve labels per tag (extract labels from history JSON member):</p>
<div class="ulist">
<ul>
<li>
<p><a href="http://{registry}/v2/{image-id}/manifests/{tag}" class="bare">http://{registry}/v2/{image-id}/manifests/{tag}</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_docker_trusted_registry"><a class="link" href="#_docker_trusted_registry">4.3. Docker Trusted Registry</a></h3>
<div class="paragraph">
<p>There is a ticket in with Docker Trusted Registry team to natively support label search. Presently there is no API
support to inspect hosted images for label metadata. Images must be pulled locally for inspection.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_schema"><a class="link" href="#_schema">5. Schema</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following JSON Schema should be used to validate Seed manifests prior to label serialization into a Dockerfile
for publish. It may be downloaded here: <a href="schema/seed.manifest.schema.json">Seed Manifest Schema</a></p>
</div>
<div class="listingblock">
<div class="content">
<pre>{
	"$schema": "http://json-schema.org/draft-04/schema#",
	"type": "object",
	"properties": {
		"manifestVersion": {
			"type": "string",
			"pattern": "(0|[1-9][0-9]*)\\.(0|[1-9][0-9]*)\\.(0|[1-9][0-9]*)(-(0|[1-9][0-9]*|[0-9]*[a-zA-Z-][0-9a-zA-Z-]*)(\\.(0|[1-9][0-9]*|[0-9]*[a-zA-Z-][0-9a-zA-Z-]*))*)?(\\+[0-9a-zA-Z-]+(\\.[0-9a-zA-Z-]+)*)?"
		},
		"jobs": {
			"type": "array",
			"items": {
				"type": "object",
				"properties": {
					"name": {
						"type": "string",
						"pattern": "[a-z0-9_-]+"
					},
					"version": {
						"type": "string",
						"pattern": "(0|[1-9][0-9]*)\\.(0|[1-9][0-9]*)\\.(0|[1-9][0-9]*)(-(0|[1-9][0-9]*|[0-9]*[a-zA-Z-][0-9a-zA-Z-]*)(\\.(0|[1-9][0-9]*|[0-9]*[a-zA-Z-][0-9a-zA-Z-]*))*)?(\\+[0-9a-zA-Z-]+(\\.[0-9a-zA-Z-]+)*)?"
					},
					"title": {
						"type": "string"
					},
					"description": {
						"type": "string"
					},
					"tag": {
						"type": "array",
						"items": {
							"type": "string"
						}
					},
					"authorName": {
						"type": "string"
					},
					"authorUrl": {
						"type": "string"
					},
					"timeout": {
						"type": "integer"
					},
					"cpus": {
						"type": "number"
					},
					"mem": {
						"type": "number"
					},
					"storage": {
						"type": "number",
						"default": 0.0
					},
					"interface": {
						"type": "object",
						"properties": {
							"cmd": {
								"type": "string"
							},
							"args": {
								"type": "string"
							},
							"inputData": {
								"type": "object",
								"properties": {
									"files": {
										"type": "array",
										"items": {
											"type": "object",
											"properties": {
												"name": {
													"type": "string"
												},
												"required": {
													"type": "boolean",
													"default": true
												},
												"mediaType": {
													"type": "array",
													"items": {
														"type": "string"
													}
												}
											},
											"required": [
												"name",
												"mediaType"
											]
										}
									},
									"json": {
										"type": "array",
										"items": {
											"type": "object",
											"properties": {
												"name": {
													"type": "string"
												},
												"required": {
													"type": "boolean",
													"default": true
												},
												"type": {
													"type": "string",
													"enum": [
														"array",
														"boolean",
														"integer",
														"number",
														"object",
														"string"
													]
												}
											},
											"required": [
												"name",
												"type"
											]
										}
									}
								}
							},
							"outputData": {
								"type": "object",
								"properties": {
									"files": {
										"type": "array",
										"items": {
											"type": "object",
											"properties": {
												"name": {
													"type": "string"
												},
												"mediaType": {
													"type": "string"
												},
												"pattern": {
													"type": "string"
												},
												"count": {
													"type": "string",
													"default": "1",
													"pattern": "([0-9]+|\\*)"
												},
												"required": {
													"type": "boolean",
													"default": true
												}
											},
											"required": [
												"name",
												"mediaType",
												"pattern"
											]
										}
									},
									"json": {
										"type": "array",
										"items": {
											"type": "object",
											"properties": {
												"name": {
													"type": "string"
												},
												"key": {
													"type": "string"
												},
												"type": {
													"type": "string",
													"enum": [
														"array",
														"boolean",
														"integer",
														"number",
														"object",
														"string"
													]
												},
												"required": {
													"type": "boolean",
													"default": true
												}
											},
											"required": [
												"name",
												"type"
											]
										}
									}
								}
							},
							"required": [
								"cmd"
							]
						}
					},
					"errorMapping": {
						"type": "array",
						"items": {
							"type": "object",
							"properties": {
								"code": {
									"type": "integer"
								},
								"title": {
									"type": "string"
								},
								"description": {
									"type": "string"
								},
								"category": {
									"type": "string",
									"default": "algorithm",
									"enum": [
										"algorithm",
										"data",
										"system"
									]
								}
							},
							"required": [
								"code",
								"title"
							]
						}
					}
				},
				"required": [
					"name",
					"version",
					"title",
					"description",
					"authorName",
					"timeout",
					"cpus",
					"mem",
					"interface"
				]
			}
		}
	},
	"required": [
		"manifestVersion",
		"jobs"
	]
}</pre>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Version 0.0.1<br>
Last updated 2016-06-20 19:19:15 UTC
</div>
</div>
</body>
</html>